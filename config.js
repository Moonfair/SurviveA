// ===================== å…¨å±€æ¸¸æˆé…ç½® (v3.0 - 102ä¸ªäº‹ä»¶) =====================
const GAME_CONFIG = {
    totalEventNum: 25, // æ¸¸æˆå›åˆæ•°ä¸Šè°ƒè‡³25ï¼Œä½“éªŒé•¿ç¯‡å‰§æƒ…
    initStatus: {
        health: 70,  // åˆå§‹å¥åº·
        spirit: 70,  // åˆå§‹ç²¾ç¥
        money: 150000, // åˆå§‹èµ„é‡‘
        credit: 60,  // åˆå§‹ä¿¡ç”¨
        social: 50,  // åˆå§‹äººè„‰
        job: 60,      // åˆå§‹èŒä¸šç¨³å®š
        income: 500 // åˆå§‹æ”¶å…¥
    },
    maxVal: 100,
    minVal: 0,
    killLineThreshold: 140000,
    flagDesc: {
        isUnderKillLine: "å½“å‰æ˜¯å¦å¤„äºæ–©æ€çº¿ä¸‹"
    }
};
const STATUS_MAP = [
    { key: "health", name: "å¥åº·", cls: "health-bar" },
    { key: "spirit", name: "ç²¾ç¥", cls: "spirit-bar" },
    { key: "money", name: "èµ„é‡‘(ç¾é‡‘)", cls: "money-bar" },
    { key: "credit", name: "ä¿¡ç”¨", cls: "credit-bar" },
    { key: "social", name: "äººè„‰", cls: "social-bar" },
    { key: "income", name: "æ”¶å…¥(ç¾é‡‘/å¤©)", cls: "income-bar" }
];

// ===================== Buff/Debuffé…ç½® =====================
const BUFF_CONFIG = {
    // ç¤ºä¾‹1ï¼šä¸­æ¯’debuff - æ¯å›åˆæŒç»­æ‰£è¡€
    poisoned: {
        name: "ğŸ¦  ä¸­æ¯’",
        onTick: {health: -5, spirit: -3}  // æ¯å›åˆæ‰§è¡Œçš„æ•ˆæœ
    },
    
    // ç¤ºä¾‹2ï¼šæ²»ç–—buff - æ¯å›åˆæ¢å¤ç”Ÿå‘½
    regeneration: {
        name: "â¤ï¸ æ²»ç–—",
        onTick: {health: +3, spirit: +2}
    },
    
    // ç¤ºä¾‹3ï¼šåŠ è–ª buff - æ¯å›åˆå¢åŠ æ”¶å…¥
    salaryBoost: {
        name: "ğŸ’° åŠ è–ª",
        onTick: {income: +200}
    },
    
    // ç¤ºä¾‹4ï¼šå‹åŠ› debuff - æ¯å›åˆæ‰£ç²¾ç¥
    stressed: {
        name: "ğŸ˜“ å‹åŠ›å±±å¤§",
        onTick: {spirit: -5}
    },
    
    // ç¤ºä¾‹5ï¼šåŠ¨æ€buff - æ ¹æ®æ¸¸æˆçŠ¶æ€è®¡ç®—æ•ˆæœ
    debtPressure: {
        name: "ğŸ’¸ å€ºåŠ¡å‹åŠ›",
        onTick: (gs) => {
            const pressure = gs.currentStatus.money < 50000 ? -10 : -5;
            return {spirit: pressure, health: -2};
        }
    },
    
    // ç—…ç—›
    sack: {
        name: "ç—…ç—›",
        onTick: {spirit: -5, health: -5}
    }
};


const EVENT_LIST = [
    // ===================== åŒ»ç–—çº¿ =====================
    // æŒ‚å·
    {
        id:101, 
        title:"ä½ ç”Ÿç—…äº†!", 
        triggerFlag:(gs)=> !gs.customFlag.inMedical,
        maxtimes:1,
        desc:"èº«ä½“çš„ç—…ç—›æ­£æŠ˜ç£¨ç€ä½ ï¼Œä½ ä¸å¾—ä¸æ‰“é€šäº†åŒ»é™¢çš„ç”µè¯ã€‚ç”µè¯åœ¨é•¿ä¹…çš„æ‹¨å·å£°åç»ˆäºæ¥é€šï¼Œå¯¹é¢ä¼ æ¥å–˜æ‚çš„å™ªå£°ã€‚æ¥èµ·æ¥ç”µè¯çš„æ˜¯ä¸ªä¸è€çƒ¦çš„ä¸­å¹´æŠ¤å£«ï¼Œå¥¹å‡ ä¹æ˜¯å¹æ¯›æ±‚ç–µåœ°è¦æ±‚ä½ ç›¸è¿‘åœ°æè¿°ç—‡çŠ¶ã€‚ä½ å†³å®šï¼š", 
        options:[
            {text:"å¼ºå¿ä¸é€‚ï¼Œå°½å¯èƒ½è¯¦ç»†æè¿°ç—…æƒ…", effect:{spirit:-5, scheduleEvent: {eventId: 102, turnsLater: 3}}, resultText: "æŠ¤å£«æ€»ç®—æ˜¯å‹‰å¼ºè¡¨ç¤ºå¥¹å¬æ‡‚äº†ï¼Œå‘Šè¯‰ä½  3 ä¸ªæœˆåå†æ¥ã€‚"},
            {text:"ä¸è€çƒ¦åœ°è‰è‰æè¿°ç—…æƒ…", effect:{spirit:-10, scheduleEvent: {eventId: 102, turnsLater: 5}}, resultText: "æŠ¤å£«æ˜¾å¾—æ¯”ä½ è¿˜è¦çƒ¦èºï¼Œæœ€ç»ˆå‘Šè¯‰ä½  5 ä¸ªæœˆåå†æ¥ã€‚"},
            {text:"ä½¿ç”¨ä¸“ä¸šæœ¯è¯­ï¼Œç²¾å‡†æè¿°ç—…æƒ…", effect:{spirit:-5, scheduleEvent: {eventId: 102, turnsLater: 2}}, resultText: "æŠ¤å£«æ˜¾ç„¶æ˜¯æ„£äº†ä¸€ä¸‹ï¼Œå‘Šè¯‰ä½  2 ä¸ªæœˆåå†æ¥ã€‚"}
        ],
        setFlag: {inMedical: true, sickStartTurn: (gs) => gs.currentTurn},
        effect: {addBuff: {sack: 999}} // æŒç»­ç—…ç—›debuff
    },
    // è¯Šæ–­
    {
        id:102, 
        title:"è¯Šæ–­", 
        triggerFlag:(gs)=> gs.customFlag.inMedical,
        maxtimes:1,
        desc:"ç»ˆäºåˆ°äº†ä½ çš„é¢„çº¦æ—¶é—´ï¼Œä½ æ¥åˆ°åŒ»é™¢ï¼Œè§åˆ°äº†åŒ»ç”Ÿã€‚åŒ»ç”Ÿæ˜¾ç„¶å·²ç»ä¸è®°å¾—ä½ è¿™ä¸ªç—…äººï¼Œè£…æ¨¡ä½œæ ·çš„è¿›è¡Œä¸€ç•ªè¯Šæ–­åã€‚ä»–ç¬‘å®¹å¯æ¬çš„è¯´ï¼šâ€œå…ˆå»æ’é˜Ÿåšä¸€ä¸ªctå§ã€‚ä½ ä¹Ÿæ˜¯è¿æ°”å¥½ï¼Œæœ€è¿‘åˆšå¥½æœ‰ä¸€ä¸ªåŠ æ€¥é€šé“åé¢ï¼ŒåŸæ¥è¦ç­‰4ä¸ªæœˆçš„ï¼Œç°åœ¨å¯ä»¥å‡åˆ°ä¸¤ä¸ªæœˆã€‚å°±æ˜¯ä»·æ ¼ä¸Šä¼šè´µé‚£ä¹ˆä¸€äº›...â€œä½ å†³å®šï¼š", 
        options:[
            {text:"ç­‰æ­£å¸¸æµç¨‹", effect:{scheduleEvent: {eventId: 103, turnsLater: 4}}, resultText: "â€œè¯¥æ­»çš„å¸è¡€é¬¼ï¼â€ä½ æš—éª‚é“ï¼Œâ€œå¤šç­‰ä¸¤ä¸ªæœˆå¯ä»¥ï¼Œä½†ç»ä¸èƒ½è®©ä»–ä»¬ä»æˆ‘è¿™å¤šæåˆ°ä¸€åˆ†é’±ï¼â€ä½ è¿˜æ˜¯å§”å©‰æ‹’ç»ï¼Œå†³å®šè€å¿ƒç­‰å¾…4ä¸ªæœˆã€‚"},
            {text:"ä½¿ç”¨åŠ æ€¥é€šé“", effect:{money:-10000, scheduleEvent: {eventId: 103, turnsLater: 2}}, resultText: "ä½ ä¸ç¡®å®šå†è¿™ä¹ˆæ‹–ä¸‹å»è¿˜è¦å¤šä¹…ï¼Œè€Œèº«ä½“ä¸­çš„ç—…ç—›æ­£ä¸€ç‚¹ä¸€æ»´åœ°å°†ä½ åå™¬......ä½ è¿˜æ˜¯å†³å®šæ¥å—åŒ»ç”Ÿçš„å»ºè®®ï¼Œä½¿ç”¨åŠ æ€¥é€šé“ã€‚"}
        ]
    },
    // æ²»ç–—
    {
        id:103, 
        title:"æ²»ç–—", 
        triggerFlag:(gs)=> gs.customFlag.inMedical,
        maxtimes:1,
        desc:"åˆæ˜¯å‡ ä¸ªæœˆè¿‡å»ï¼Œä½ ç»ˆäºä½ å¸¦ç€CTç»“æœå›åˆ°åŒ»ç”Ÿé¢å‰ã€‚åŒ»ç”Ÿä»”ç»†ç«¯è¯¦äº†ç‰‡å­å’ŒåŒ–éªŒç»“æœï¼Œå‘ŠçŸ¥ä½ éœ€è¦è¿›è¡Œä¸€å°æ‰‹æœ¯ã€‚ç„¶è€Œæ’é˜Ÿçš„äººå¾ˆå¤šï¼Œæœ€è¿‘çš„ä¸€å°ä¹Ÿè¦ç­‰åˆ°6ä¸ªæœˆåã€‚åŒ»ç”Ÿè€¸è€¸è‚©ï¼Œâ€œå¦‚æœè¿æ°”å¥½ï¼Œä¹Ÿæœ‰å¯èƒ½æå‰å®‰æ’ã€‚æˆ‘å…ˆç»™ä½ å¼€ä¸€äº›æ­¢ç—›è¯ï¼Œå®åœ¨åšæŒä¸äº†å°±åƒä¸¤ç‰‡é¡¶ä¸€é¡¶ã€‚â€ä½ å†³å®šï¼š", 
        options:[
            {text:"é»˜é»˜æ¥å—", resultText: "ä½ çŸ¥é“ç°å®ç¡®å®å¦‚æ­¤ï¼Œç”šè‡³6ä¸ªæœˆå·²ç»ç®—æ˜¯å¾ˆçŸ­çš„æ—¶é—´ã€‚ä½ åªèƒ½é»˜é»˜æ¥å—è¿™ä¸ªå®‰æ’ï¼Œç¥ˆç¥·è‡ªå·±èƒ½å¤Ÿæ´»ç€ç­‰åˆ°æ‰‹æœ¯æ—¥æœŸã€‚"},
            {text:"å»é»‘è¯Šæ‰€", triggerFlag:(gs)=> {return gs.customFlag.hasBlackClinicInfo}, tip:"éœ€è¦é»‘è¯Šæ‰€åç‰‡", setFlag:{blackClinic:true}, resultText: "æ‰‹æœ¯çš„æ’æœŸå®åœ¨æ˜¯å¤ªé åäº†ï¼Œä½ ä¸ç¡®å®šè‡ªå·±æ˜¯å¦è¿˜èƒ½åšæŒåˆ°é‚£ä¸ªæ—¶å€™ã€‚â€œä¸èƒ½è¿™ä¹ˆå¬å¤©ç”±å‘½ï¼â€ä½ æš—è‡ªå†³å®šå»é»‘è¯Šæ‰€ç¢°ç¢°è¿æ°”ã€‚"},
            {text:"å»ç§äººè¯Šæ‰€", triggerFlag:(gs)=> {return gs.customFlag.hasHighClinicInfo}, tip:"éœ€è¦ç§äººè¯Šæ‰€åç‰‡", effect:{money:-200000, health:+100}, setFlag:{inMedical:false}, resultText: "ä½ å’¬å’¬ç‰™ï¼Œå†³å®šèŠ±é‡é‡‘å»ç§äººè¯Šæ‰€è¿›è¡Œæ‰‹æœ¯ã€‚è™½ç„¶ä»·æ ¼æ˜‚è´µï¼Œä½†è‡³å°‘èƒ½ä¿è¯è‡ªå·±æ´»ä¸‹æ¥ã€‚æ‰‹æœ¯éå¸¸æˆåŠŸï¼Œä½ çš„èº«ä½“çŠ¶å†µå¤§å¹…å¥½è½¬ã€‚" },
        ]
    },
    // ===================== å·¥ä½œçº¿ =====================
    {
        id:111, 
        title:"æ¼æ´ç™¾å‡º", 
        triggerFlag:(gs)=> gs.currentStatus.spirit < 60 ,
        weight: (gs) => 40 * ((GAME_CONFIG.maxVal - gs.currentStatus.spirit) * 1.0 / GAME_CONFIG.maxVal),
        desc:"ä¸€è§‰é†’æ¥ï¼Œä½ å‘ç°è‡ªå·±å¤´ç—›æ¬²è£‚ï¼Œå“ˆæ¬ è¿å¤©ã€‚å¼ºæ’‘ç€æ¥åˆ°å…¬å¸ï¼Œä¸åˆ°ä¸€å°æ—¶çš„æ—¶é—´é‡Œå·²ç»çŠ¯äº†å¥½å‡ ä¸ªä½çº§é”™è¯¯ã€‚è€æ¿æŠŠä½ å«åˆ°åŠå…¬å®¤ï¼Œä¸¥è‚ƒåœ°è¯´ï¼šâ€œä½ ä»Šå¤©çš„çŠ¶æ€ä¸å¤ªå¯¹ï¼Œè¦ä¸è¦è€ƒè™‘è¯·ä¸ªå‡å¥½å¥½ä¼‘æ¯ä¸€ä¸‹ï¼Ÿâ€ä½ å†³å®šï¼š", 
        options:[
            {text:"è¯·å‡ä¼‘æ¯",effect:{job:-10, spirit:+10}, resultText: "ä½ å®åœ¨é¡¶ä¸ä½äº†ï¼Œå†³å®šè¯·å‡ä¼‘æ¯ä¸€å¤©ã€‚è‡³äºå †ç§¯çš„å·¥ä½œã€åŒäº‹çš„æŒ¤å…‘ã€è€æ¿çš„ä¸æ»¡......ä½ éƒ½æ— æš‡é¡¾åŠäº†ã€‚ä½ åªæƒ³å¥½å¥½ç¡ä¸€è§‰ã€‚"},
            {text:"ä½¿ç”¨å¼ºåŒ–å‰‚",effect:{spirit:+10, job:+5, money:-1000}, resultText: "ä½ æ•é”çš„å¯Ÿè§‰åˆ°è€æ¿çš„ä¸æ»¡â€”â€”ä»–å¹¶ä¸æ˜¯çœŸçš„å¸Œæœ›ä½ ä¼‘æ¯ï¼Œè€Œæ˜¯åœ¨æš—æš—æ•²æ‰“ä½ çš„å·¥ä½œçŠ¶æ€ã€‚ä½ çŸ¥é“å†ä¸åšå‡ºäº›æ”¹å˜ï¼Œä½ å¯èƒ½ä¼šæ°¸è¿œå¤±å»è¿™ä»½è–ªæ°´å¹¶ä¸ä¸°åšçš„å·¥ä½œã€‚ä½ æ¥åˆ°æ¥¼ä¸‹çš„ä¾¿åˆ©åº—å¿ç—›ä¹°äº†æ ¹å¼ºåŒ–å‰‚ã€‚å–ä¸‹çš„ç¬é—´ï¼Œä½ ä¸€ä¸‹æ‘†è„±äº†ç–²åŠ³ï¼Œä¹Ÿå¤±å»äº†äº›åˆ«çš„ä»€ä¹ˆä¸œè¥¿......"},
            {text:"å¼ºæ’‘",effect:{spirit:-15, job:-5}, resultText: "ä½ ä¸æ•¢è¯·å‡ï¼Œä¹Ÿä¸æƒ³æˆä¸ºå¤©å¤©ä¾é å¼ºåŒ–å‰‚çš„æ¯’ç‹—ï¼Œåªèƒ½å’¬å’¬ç‰™å¼ºæ’‘ä¸‹å»ã€‚å³ä½¿å¦‚æ­¤ï¼Œä½ è¿˜æ˜¯é”™æ¼ç™¾å‡ºï¼Œä¸å¾—ä¸èŠ±åŠ å€çš„æ—¶é—´æ¥å®Œæˆå·¥ä½œã€‚ç»ˆäºï¼Œåœ¨å‡Œæ™¨3ç‚¹é’Ÿï¼Œä½ æ‹–ç€ç–²æƒ«çš„èº«èº¯èµ°å‡ºäº†ç©ºæ— ä¸€äººçš„åŠå…¬å®¤ã€‚"},
        ]
    },
    {
        id:112, 
        title:"æ™‹å‡é£æ³¢", 
        triggerFlag:(gs)=> gs.currentStatus.job > 60 ,
        maxtimes:1,
        desc:"åˆåˆ°äº†å…¬å¸çš„ç»©æ•ˆå‘¨æœŸ", 
        options:[
            {text:"è¯·å‡ä¼‘æ¯",effect:{job:-10, spirit:+10}, resultText: "ä½ å®åœ¨é¡¶ä¸ä½äº†ï¼Œå†³å®šè¯·å‡ä¼‘æ¯ä¸€å¤©ã€‚è‡³äºå †ç§¯çš„å·¥ä½œã€åŒäº‹çš„æŒ¤å…‘ã€è€æ¿çš„ä¸æ»¡......ä½ éƒ½æ— æš‡é¡¾åŠäº†ã€‚ä½ åªæƒ³å¥½å¥½ç¡ä¸€è§‰ã€‚"},
            {text:"ä½¿ç”¨å¼ºåŒ–å‰‚",effect:{spirit:+10, job:+5, money:-1000}, resultText: "ä½ æ•é”çš„å¯Ÿè§‰åˆ°è€æ¿çš„ä¸æ»¡â€”â€”ä»–å¹¶ä¸æ˜¯çœŸçš„å¸Œæœ›ä½ ä¼‘æ¯ï¼Œè€Œæ˜¯åœ¨æš—æš—æ•²æ‰“ä½ çš„å·¥ä½œçŠ¶æ€ã€‚ä½ çŸ¥é“å†ä¸åšå‡ºäº›æ”¹å˜ï¼Œä½ å¯èƒ½ä¼šæ°¸è¿œå¤±å»è¿™ä»½è–ªæ°´å¹¶ä¸ä¸°åšçš„å·¥ä½œã€‚ä½ æ¥åˆ°æ¥¼ä¸‹çš„ä¾¿åˆ©åº—å¿ç—›ä¹°äº†æ ¹å¼ºåŒ–å‰‚ã€‚å–ä¸‹çš„ç¬é—´ï¼Œä½ ä¸€ä¸‹æ‘†è„±äº†ç–²åŠ³ï¼Œä¹Ÿå¤±å»äº†äº›åˆ«çš„ä»€ä¹ˆä¸œè¥¿......"},
            {text:"å¼ºæ’‘",effect:{spirit:-15, job:-5}, resultText: "ä½ ä¸æ•¢è¯·å‡ï¼Œä¹Ÿä¸æƒ³æˆä¸ºå¤©å¤©ä¾é å¼ºåŒ–å‰‚çš„æ¯’ç‹—ï¼Œåªèƒ½å’¬å’¬ç‰™å¼ºæ’‘ä¸‹å»ã€‚å³ä½¿å¦‚æ­¤ï¼Œä½ è¿˜æ˜¯é”™æ¼ç™¾å‡ºï¼Œä¸å¾—ä¸èŠ±åŠ å€çš„æ—¶é—´æ¥å®Œæˆå·¥ä½œã€‚ç»ˆäºï¼Œåœ¨å‡Œæ™¨3ç‚¹é’Ÿï¼Œä½ æ‹–ç€ç–²æƒ«çš„èº«èº¯èµ°å‡ºäº†ç©ºæ— ä¸€äººçš„åŠå…¬å®¤ã€‚"},
        ]
    },
    // ===================== å”¯ä¸€äº‹ä»¶ =====================
    // æµæµªæ±‰çš„æŠ¥æ©
    {
        id:601, 
        title:"æµæµªæ±‰çš„æŠ¥æ©", 
        triggerFlag:(gs)=> !gs.customFlag.homelessRewarded,
        desc:"â€œå¥½å¿ƒçš„å…ˆç”Ÿï¼Œè¯·ç­‰ä¸€ä¸‹ï¼â€æµæµªæ±‰å«ä½äº†æ­£å‡†å¤‡ç¦»å¼€çš„ä½ ï¼Œâ€œæ„Ÿè°¢æ‚¨æ…·æ…¨çš„å¸®åŠ©ï¼Œè®©æˆ‘æŒºè¿‡äº†æœ€è‰°éš¾çš„æ—¶æœŸã€‚æˆ‘è¿™å„¿æœ‰ä¸€äº›å¥½ä¸œè¥¿ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°æ‚¨ï¼â€è¯´ç€ä»–æ‰“å¼€äº†è„å…®å…®çš„åŒ…è£¹ã€‚ä½ é€‰æ‹©ï¼š", 
        weight: 0,        
        options:[
            {text:"ä¸€å¼ é»‘è¯Šæ‰€çš„åç‰‡", setFlag: {hasBlackClinicInfo: true}, resultText: "ä½ é€‰æ‹©äº†ä¸€å¼ è®°å½•äº†ä¸€å®¶é»‘è¯Šæ‰€åœ°å€å’Œè”ç³»æ–¹å¼çš„åç‰‡ã€‚æˆ–è®¸å“ªå¤©ä½ èƒ½ç”¨å¾—ä¸Šå®ƒã€‚"},
            {text:"ä¸€æ”¯ç‰¹æ•ˆå¼ºåŒ–å‰‚", effect:{spirit:+15}, resultText: "ä½ é€‰æ‹©äº†ä¸€æ”¯çœ‹èµ·æ¥å¾ˆé«˜çº§çš„å¼ºåŒ–å‰‚ã€‚ä½ è¿«ä¸åŠå¾…åœ°æœç”¨äº†å®ƒï¼Œé¡¿æ—¶æ„Ÿè§‰ç²¾ç¥ç„•å‘ï¼Œæ•´ä¸ªäººéƒ½è½»æ¾äº†è®¸å¤šã€‚"},
            {text:"ä¸è¦äº†ï¼Œèµ°äº†", effect:{spirit:+15}, resultText: "ä½ é€‰æ‹©æ‹’ç»äº†ä»–çš„â€œå¥½æ„â€ï¼ŒåŒ†åŒ†è½¬èº«ç¦»å¼€äº†ã€‚â€œè¿™æ ·çš„â€˜å¥½ä¸œè¥¿â€™æˆ‘å¯æ¶ˆå—ä¸èµ·ï¼â€"},
        ],
        setFlag: {homelessRewarded: true}
    },
    // ===================== æ™®é€šäº‹ä»¶ =====================
    // ä½¿ç”¨å¼ºåŒ–å‰‚
    {
        id:901, 
        title:"ç—…ç—›æŠ˜ç£¨ç€ä½ ï¼", 
        desc:"åˆæ˜¯ä¸€ä¸ªéš¾ç†¬çš„å¤œæ™šï¼Œèº«ä½“çš„ç—…ç—›è€ƒéªŒç€ä½ çš„æ„å¿—ã€‚æƒ³åˆ°æ˜å¤©å †ç§¯å¦‚å±±çš„å·¥ä½œï¼Œä½ æ›´åŠ æ— æ³•å…¥ç¡ã€‚ä½ å†³å®šï¼š", 
        triggerFlag:(gs)=> gs.customFlag.inMedical,
        weight: (gs) => 10 * Math.max(5, gs.currentTurn - gs.customFlag.sickStartTurn),
        options:[
            {text:"å¼ºè¿«è‡ªå·±å…¥ç¡", effect:{spirit:-10, job:-5}, resultText: "ä½ è¾—è½¬åä¾§ï¼Œå¼ºè¿«è‡ªå·±å…¥ç¡ã€‚ä½†æ”¶æ•ˆç”šå¾®ï¼Œç¬¬äºŒå¤©ä½ å“ˆæ¬ è¿å¤©ï¼Œæœªèƒ½é¡ºåˆ©å®Œæˆå·¥ä½œã€‚"},
            {text:"å–é…’", effect:{money:-800}, resultText: "ä½ çŒä¸‹ä¸¤æ¯çƒˆé…’ï¼Œè¯•å›¾æ±è¿™ä¸ªéš¾æŒ¨çš„å¤œæ™šã€‚é…’ç²¾èµ·åˆ°äº†ä¸€å®šçš„ä½œç”¨ï¼Œä½†æ”¶æ•ˆç”šå¾®ï¼Œç¬¬äºŒå¤©ä½ ä¾ç„¶ç–²æƒ«ä¸å ªã€‚"},
            {text:"ä½¿ç”¨æ­¢ç—›è¯", effect:{spirit:+5, money:-1000}, resultText: "è¿™ç§æŒç»­çš„æŠ˜ç£¨å°±åƒåŠå¤œé£æ¥é£å»çš„èšŠå­ï¼Œè®©ä½ å®åœ¨æ— æ³•å¿å—ã€‚ä½ é€‰æ‹©åƒä¸‹ä¸¤ç‰‡æ­¢ç—›è¯ï¼Œâ€œåæ­£ä¸¤ç‰‡çš„å‰‚é‡ï¼Œåº”è¯¥ä¸ä¼šæœ‰ä»€ä¹ˆå¤§é—®é¢˜â€ï¼Œä½ è¿™æ ·æƒ³ç€ï¼Œç»ˆäºå¾—ä»¥å…¥ç¡ã€‚ä½†æ˜¯ä»£ä»·æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ", setFlag: {useDragTimes: (gs) => (gs.customFlag.useDragTimes || 0) + 1} }
        ]
    },    
    // æµæµªæ±‰
    {
        id:902, 
        title:"æµæµªæ±‰çš„æ±‚åŠ©", 
        desc:"ä½ åœ¨è¡—å¤´é‡åˆ°ä¸€ä¸ªè¡£è¡«è¤´è¤›çš„æµæµªæ±‰ï¼Œä»–å‘ä½ ä¼¸å‡ºæ‰‹ï¼Œä½å£°è¯·æ±‚ä¸€äº›é’±æ¥ä¹°é£Ÿç‰©ã€‚ä½ å†³å®šï¼š", 
        triggerFlag:(gs)=> !gs.customFlag.homelessRewarded,
        options:[
            {text:"ç»™ä»–ä¸€äº›é’±", effect:{spirit:+5, money:-10}, setFlag: {helpedHomelessCount: (gs) => (gs.customFlag.helpedHomelessCount || 0) + 1}, dynamicEffect: (gs) => { if (gs.customFlag.helpedHomelessCount == 3) return {scheduleEvent: {eventId: 601, turnsLater: 1}}; return {};}, resultText: "â€œGod bless youï¼â€ä»–è¿å¿™å¯¹ä½ ç‚¹å¤´å“ˆè…°ã€‚ä½ è‡ªè§‰å¸®åŠ©äº†ä»–äººçš„åŒæ—¶ï¼Œå†…å¿ƒä¹Ÿéšéšå‡èµ·ä¸€é˜µè«åçš„åº†å¹¸ï¼Œæ­¥ä¼ä¸­ä¹Ÿå¸¦ä¸Šäº›è½»å¿«å’Œä»å®¹ã€‚"},
            {text:"å¿«æ­¥èµ°è¿‡", effect:{spirit:-5}, resultText: "ä½ æ‘‡äº†æ‘‡å¤´ï¼Œå¿«æ­¥ç¦»å¼€ã€‚ä½ çŸ¥é“ï¼Œç»™äº†ä»–é’±ä¹Ÿè®¸å¹¶ä¸èƒ½çœŸæ­£å¸®åŠ©åˆ°ä»–ï¼Œåè€Œå¯èƒ½åŠ©é•¿ä»–çš„æ¶ä¹ ã€‚ä½ å¿ƒä¸­éšéšæœ‰äº›æ„§ç–šï¼Œä½†æ›´å¤šçš„æ˜¯å¯¹è‡ªå·±ç”Ÿæ´»çš„æ‹…å¿§ã€‚"}
        ]
    },
];

// ===================== ç»“å±€é…ç½® =====================
// resultType: "special" = ç‰¹æ®Šç»“å±€ï¼ˆç«‹å³è§¦å‘ï¼‰ï¼Œ"normal" = æ™®é€šç»“å±€ï¼ˆå›åˆç»“æŸæ—¶éšæœºï¼‰
// type: "HE" = å¥½ç»“å±€ï¼Œ"BE" = åç»“å±€
const RESULT_LIST = [
    // ç‰¹æ®Šç»“å±€ï¼šé»‘è¯Šæ‰€æ­»äº¡
    {id:22, resultType:"special", type:"BE", title:"åŒ–èº«é«˜è¾¾", desc:"ä½ é¡ºåˆ©åœ¨é»‘è¯Šæ‰€çº¦åˆ°äº†ä¸€å°æ‰‹æœ¯ï¼Œå®‰å¿ƒåœ°æ‰“ä¸Šéº»è¯ï¼Œåœ¨æ— å½±ç¯ä¸‹èººä¸‹ã€‚ä½†ä½ å†ä¹Ÿæ²¡æœ‰çå¼€çœ¼ç›ã€‚ä½ çš„å™¨å®˜å°†å¸®åŠ©å…¶ä»–äººæ›´å¥½çš„æ´»ä¸‹å»ã€‚", condition:(gs)=>gs.customFlag.blackClinic},

    // æ­»äº¡ç»“å±€ï¼šå¿ƒè¡°
    {id:1, resultType:"special", type:"BE", title:"é’¢é“ä¸›æ—", desc:"ä½ æ„Ÿåˆ°ä¸€é˜µå¤©æ—‹åœ°è½¬ã€‚æœ‰æ—¶å€™åœ¨åŸå¸‚çš„é’¢é“ä¸›æ—é‡Œç”Ÿå­˜ï¼Œå¹¶ä¸æ¯”è’é‡ä¸­å®¹æ˜“ã€‚ç°åœ¨ä½ ç»ˆäºèƒ½ä¼‘æ¯äº†ã€‚",condition:(gs)=>gs.currentStatus.spirit <= 0},
    
    // å…œåº•ç»“å±€
    {id:999, resultType:"normal", type:"BE", title:"å¹³å‡¡çš„ç»“æŸ", desc:"ä½ çš„æ•…äº‹å°±è¿™æ ·ç»“æŸäº†ï¼Œæ²¡æœ‰ç‰¹åˆ«çš„å¥½ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«çš„åã€‚", egg:"æœ‰äº›äººçš„ä¸€ç”Ÿï¼Œæ³¨å®šå¹³å‡¡ã€‚", condition:(gs)=>true}
];
